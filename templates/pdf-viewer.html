<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>SDM-AI Retinopathy Applications</title>
    <link rel="stylesheet" href="/static/css/all.css" />
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="/static/css/sticky-footer-navbar.css" rel="stylesheet" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <style>
      /* Darker background on mouse-over */
      .btn:hover {
        background-color: RoyalBlue;
      }
    </style>
  </head>

  <script>
    var loadFile = function (event) {
      var image = document.getElementById("output");
      image.src = URL.createObjectURL(event.target.files[0]);
      var lbl = document.getElementById("lbl_file");

      lbl.innerText = event.target.files[0].name;
    };
  </script>
  <body
    style="background-color: black; margin: 0; height: 100%; overflow: hidden"
    onload="myFunction()"
  >
    <header>
      <!-- Fixed navbar -->
      <nav
        id="nav"
        class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"
        style="padding: 0px"
      >
        <a class="navbar-brand" href="/" style="padding: 0px"
          ><img
            src="/static/images/logo.png"
            alt="sdm"
            style="
              max-width: 30%;
              height: auto;
              margin-left: 0px;
              margin-right: auto;
            "
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarCollapse"
          aria-controls="navbarCollapse"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/"
                >Home <span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/upload">Upload</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
          <a class="btn btn-outline-success my-2 my-sm-0" href="/logout"
            >Logout</a
          >
        </div>
      </nav>
    </header>
    <!-- Begin page content -->

    <main
      id="main"
      role="main"
      class="container-fluid"
      style="height: 100%; background-color: black"
    >
      <iframe
        src="{{ output }}"
        style="
          position: absolute;
          width: 100%;
          height: 100%;
          background-color: black;
          border: none;
        "
      ></iframe>
      <!-- <embed src="{{ output }}#view=FitV&toolbar=0&navpanes=0&scrollbar=0" type="application/pdf" width="100%" height="600px" /> -->
    </main>
    <footer
      class="footer"
      style="background-color: rgb(14, 14, 14); padding: 0px"
    >
      <div class="container" style="text-align: center; padding: 0px">
        <span class="text-muted" style="padding: 0px"
          >@ SAUDI DEVELOPMENT MED (SDM)</span
        >
      </div>
    </footer>
    <script>
      function myFunction() {
        var offsetHeightNav = document.getElementById("nav").offsetHeight;
        var offsetHeightMain = document.getElementById("main").offsetHeight;
        console.log("nav div height " + offsetHeightNav);
        console.log("main div height " + offsetHeightMain);
        document.getElementById("main").style.paddingTop =
          offsetHeightNav + "px";
        document.getElementById("main").style.paddingLeft = "0px";
        document.getElementById("main").style.paddingRight = "0px";
      }
    </script>
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script
      src="/static/js/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <!-- <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script> -->
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
  </body>
</html>

<!-- $(function() {
    
  //style our html, body, and object elements
  $("html").css("height", "100%");
  $("body").css({"height": "100%", "margin": "0", "overflow": "hidden"});
  $("object").css({"height": "100%", "width": "100%"});
  
  //check if the pdf has loaded yet
  checkPdf();

});

function checkPdf() {
  var checkPdf = setInterval(function() {
      if ($("object").length) {
          var body = $($($("object")[0].contentDocument).children("html")[0]).children("body");
          if (body.length) {
              if (body[0].children.length) {
                  
                  //the pdf has loaded, now style it!
                  stylePdf();
                  
                  clearInterval(checkPdf);
              }
          }
      }
  }, 1);
}

function stylePdf() {
  var html = $($("object")[0].contentDocument).children("html")[0];
  $(html).css({"height": "100%", "overflow": "hidden"});
  $($(html).children("body")[0]).css({"height": "100%", "margin": "0"});
} -->